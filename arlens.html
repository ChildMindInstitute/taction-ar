<!doctype html>
<html lang="en">
<head>

  <!-- NOT: 10M MAX IS A GOOD SIZE FOR MODELS - too small!! -->
  <!-- dog-terrier-model resized to max 25meters -->
  <!-- wolf-running-model resized to max 20meters -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Taction AR App</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/slick-theme.css">
    <link rel="stylesheet" href="assets/css/style.css?v=201905161239">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,900" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

    <script>
    window.AFPS = {
      gameState: {
        quizActive: true,
        score: 0,
        type: 'dog',       //search, dog or bee - search is default
        fearIsActive: false,  //can player interact with/destroy the fear entity
        resize: 30,
        fearDistance: 18,      //distance of player/camera from fear entity
        dialogue: 'none',
        heartImageSRC: ["./images/hearts_0_of_5.png", "./images/hearts_1_of_5.png", "./images/hearts_2_of_5.png", "./images/hearts_3_of_5.png", "./images/hearts_4_of_5.png", "./images/hearts_5_of_5.png"],
        fearModelSRC: ["./assets/models/dog-lowpoly-pitbull-model.glb", "", ""],
        fearSoundSRC: ["./assets/audio/dog-small-sound.mp3", "./assets/audio/dog-growling-sound.mp3", "./assets/audio/dog-evil-sound.mp3"],
        animations: ["walk", "Trot", "Gallop", "run", "WalkSniff", "IdleSniff", "IdleDig", "idle", "IdleMouthClosed", "IdleLong", 
              "IdleBarking", "IdleBarkingLong", "jump", "IdleToSit", "SitIdle", "SitIdleLong", "SitScratch", "SitToLay", "LayIdle", "LayIdleLong", 
              "LayRest", "LayToIdle", "Piss", "Poop", "IdleToConsume", "Eat", "Drink", "ConsumeToIdle", "IdleToAggressive", "AggressiveIdle", 
              "AggressiveBarking", "AggressiveAttack", "AggressiveAttack2", "AggressiveBeingHit", "AggressiveBeingHit2", "AggressiveBeingHit3", "AggressiveToIdle", "IdleToLay", "LayToSit", "WipeAss", 
              "SitToIdle", "Death"]
      }
    };
    </script>

    
  <!--   <script src="//cdn.8thwall.com/web/aframe/8frame-0.9.0.min.js"></script> -->
  <script src="//cdn.8thwall.com/web/aframe/8frame-0.8.2.min.js"></script>
 <!--   <script src="//codeawesome.s3-us-west-2.amazonaws.com/dulce303/assets/xrextras-climatelens.js" ></script> -->
    <script src="./assets/json/silly-trivia.js" ></script>
    <script src="./assets/js/xrextras-climatelens.js" ></script>
    <script src="./assets/js/gesture-detector.js"></script>
    <!--
    <script src="./assets/js/aframe-gif-component.min.js"></script>
    <script src="./assets/js/hold-drag.js"></script>
    <script src="./assets/js/pinch-scale.js"></script>
    <script src="./assets/js/two-finger-spin.js"></script>
-->
    <script src="./assets/js/aframe-look-at-component-custom.js"></script>
    <!-- <script src="./assets/js/photomode.js"></script> -->

    <script src="//cdn.8thwall.com/web/aframe/aframe-extras-4.2.0.min.js"></script> 
  <script defer src="//cdn.8thwall.com/web/aframe/aframe-animation-component-5.1.2.min.js"></script>
    <script src="//apps.8thwall.com/xrweb?appKey=gcGClZ7V2H4eITDKoOedf6lysRHTJg6JmhxUVEGSk5hu4EdnLkWdecrUfgBVATISaV5xg2"></script>

    <script src="./assets/js/dance.js?v=201905161239"></script>
    
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">

<!-- temp dev styling -->
    <style>
      #game-message, #score-message{
        position: fixed;
        display: block;
        width: 90%;
        left: 5%;
        z-index: 999;
      }
      #game-message h2, #score-message h2{
        color: white;
        text-align: center;
      }
      #game-message{
        top: 80%;
      }
      #score-message{
        top: 92%;
      }

      #heart-bar{
	    position: fixed;
	    top: 0;
	    width: 96%;
	    height: 10%;
	    z-index: 999;
	    opacity: 0.5;
	    margin: 2%;
      	display: block;
      	background: url(./images/hearts_0_of_5.png);
		background-repeat: no-repeat;
		background-size: contain;
      }

      #quiz-container{
        display: block;
        position: relative;
        width: 84%;
        left: 8%;
        top: 50%;
      }
      #quiz-question{
        display: block;
        color: #4b739a;
        text-align: center;
      }
      #quiz-answer{
        display: none;
        color: #54ab80;
        text-align: center;
      }

      #loadImage{
        margin-left: -1.5em;
      }

        #bar-wrapper {
          /* display:none; */
          display: block;
          width: 61%;
          left: 20%;
          top: 10%;
          position: relative;
        }

        #bar-wrapper p {
          cursor: default;
          position: relative;
          /* top: calc(50% - 64px); */
          width: 100%;
          text-align: center;
         /* font-family: "Open Sans", Arial, sans-serif; */
          font-size: 18px;
        /*  text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);  */
          color: #3a3a3a;
        }

        #bar-wrapper .bar-container {
        /*  position: absolute; */
          /*left: calc(50vw - 4px - 290px / 2);*/
          margin-left: 4%;
          top: calc(50vh - 4px - 10px / 2);
          border-radius: 16px;
          border: 4px solid #3a3a3a;
          height: 16px;
          width: 89%;
          background-color: #eee;
          margin-bottom: 20px;
        }
        #bar-wrapper .bar-container .bar {
          background-color: #3a3a3a;
       /*   margin: -3px 0 0 3px;  */
       margin: -3px 0 3px;
         /* height: 4px; */
         height: 12px;
          width: 4px;
          border-radius: 4px;
        }

        @-webkit-keyframes load {
          0% {
            width: 4px;
          }
          100% {
            width: 284px;
          }
        }
    </style>

        <script>



        // Component that places trees where the ground is clicked
        AFRAME.registerComponent('tap-place', {
          init: function() {
            const ground = document.getElementById('ground')
            ground.addEventListener('click', event => {
              // Create new entity for the new object
              const newElement = document.createElement('a-entity')
              // The raycaster gives a location of the touch in the scene
              const touchPoint = event.detail.intersection.point
              newElement.setAttribute('position', touchPoint)
              const randomYRotation = Math.random() * 360
              newElement.setAttribute('rotation', '0 ' + randomYRotation + ' 0')
              newElement.setAttribute('visible', 'false')
              newElement.setAttribute('scale', '0.0001 0.0001 0.0001')
              newElement.setAttribute('gltf-model', '#water-glb')
              this.el.sceneEl.appendChild(newElement)
              newElement.addEventListener('model-loaded', () => {
                // Once the model is loaded, we are ready to show it popping in using an animation
                newElement.setAttribute('visible', 'true')
                newElement.setAttribute('animation', {
                  property: 'scale',
                  to: '0.01 0.01 0.01',
                  easing: 'easeOutElastic',
                  dur: 800,
                })
              })
            })
          }
        })



        //component for making loaded models a uniform size
        AFRAME.registerComponent('resize', {
      schema: {
        axis: {
          type: 'string',
          default: 'x'
        },
        value: {
          type: 'number',
          default: 1
        }
      },
      init: function() {
        var el = this.el;
        var data = this.data;
        var model = el.object3D;
        el.addEventListener('model-loaded', function(e) {
          var box = new THREE.Box3().setFromObject( model );
          var size = box.getSize();
          var x = size.x;
          var y = size.y;
          var z = size.z;
          if(data.axis === 'x') {
            var scale = data.value / x;
          }
          else if(data.axis === 'y') {
            var scale = data.value / y;
          }
          else {
            var scale = data.value / z;
          }
          el.setAttribute('scale', scale + ' ' + scale + ' ' + scale);
        });
      }
    });


  /*************************************************************
  ***************** PETTING HAND COMPONENT *********************
  *************************************************************/
    AFRAME.registerComponent('hand-pet', {
        init: function() {
        	const handEntity = document.getElementById('hand-entity'); 

        	//do stuff after model is loaded
            handEntity.addEventListener('model-loaded', () => {
            	//inspect hand model
              	var mesh = handEntity.getObject3D('mesh');
              	console.log("~HAND MESH~");
              	console.log(mesh);

                //fix animation duration
                var sumDurations = 0;
                for(var i = 0; i < mesh.animations.length; i++){
                    mesh.animations[i].duration = 0.3;
                }
            })
        }
    })

        

  /*************************************************************
  ***************** PRIMARY LOAD COMPONENT *********************
  *************************************************************/
      AFRAME.registerComponent('initial-events', {
        init: function() {

          const scene = this.el.sceneEl;
          const camera = document.getElementById('camera'); 
          const theFear = document.getElementById('fear-entity');
          const assets = document.getElementById('assets');

          //IMMEDIATE ACTIONS

          //do stuff after model is loaded
            theFear.addEventListener('model-loaded', () => {

              //model diagnostics
              console.log("~~~~~MODEL DIAGNOSTICS~~~~~");
              var mesh = theFear.getObject3D('mesh');
              console.log("~FEAR MESH~");
              console.log(mesh);
              console.log("~animations~");
              console.log(mesh.animations)
              console.log("~duration model 5");
              console.log(mesh.animations[4].duration);

              console.log("~traverse mesh~");
              //hide anoying base of model
              if (mesh) {
                mesh.traverse(function (node) {
                  if (node.isMesh){
                    console.log(node.material);
                    if(node.name == 'Floor__0'){
                      console.log("hiding floor"); 
                      node.visible = false;

                    }
                  } 
                });
              } 

              //fix animation duration (model durations are sum of past durations in array)
              var sumDurations = 0;
              for(var i = 0; i < mesh.animations.length; i++){
                //fix top level animation clip duration
                mesh.animations[i].duration = mesh.animations[i].duration - sumDurations;

                //fix frame component duration for all frames in clip
                //mesh(object) --> animations(array) --> tracks(array) --> times(array)
                for(var j = 0; j < mesh.animations[i].tracks.length; j++){

                  //frame rate ie difference in time between frames
                  var frameTime = mesh.animations[i].tracks[j].times[2] - mesh.animations[i].tracks[j].times[1];
                  var offSetSkipFirst =  mesh.animations[i].tracks[j].times[1] - frameTime;

                  for(var k = 0; k < mesh.animations[i].tracks[j].times.length; k++){

                   //   if(i == 17 && j == 3){
                    //    console.log("~animation 18 time change details");
                    //    console.log("old time: " + mesh.animations[i].tracks[j].times[k]);
                   //   }

                      //mesh.animations[i].tracks[k].times[m] = mesh.animations[i].tracks[k].times[m] - sumDurations;
                      if(mesh.animations[i].tracks[j].times[k] != 0 ){
                        mesh.animations[i].tracks[j].times[k] = mesh.animations[i].tracks[j].times[k] - offSetSkipFirst;
                        if(mesh.animations[i].tracks[j].times[k] < 0) mesh.animations[i].tracks[j].times[k] = 0;
                      }
                      

                //      if(i == 17 && j == 3){
                //        console.log("new time: " + mesh.animations[i].tracks[j].times[k]);
                 //     }
                  }
                }

                sumDurations = sumDurations + mesh.animations[i].duration;

                console.log("~sum duration~");
                console.log(sumDurations);

                console.log("~animation " + i + " duration~");
                console.log(mesh.animations[i].duration);
                
              }
              console.log("~duration model 5");
              console.log(mesh.animations[4].duration);

              console.log("~~ MODIFIED MESH OBJECT ~~");
              console.log(mesh);



            //  theFear.setAttribute('animation-mixer', 'loop', 'repeat');
              theFear.setAttribute("animation-mixer", "crossFadeDuration", "0"); 
              theFear.setAttribute("animation-mixer", "timeScale", "1"); 

              var animateIntervalIndex = 0;
              setInterval(function(){ 
                console.log("change animation to: " + AFPS.gameState.animations[animateIntervalIndex]);

                theFear.setAttribute("animation-mixer", "clip", AFPS.gameState.animations[animateIntervalIndex]); 

                animateIntervalIndex++;
                if (animateIntervalIndex > 38) animateIntervalIndex = 0;
              }, 10000);

              theFear.setAttribute('visible', 'true');
            }) 


            //set init sound
            theFear.setAttribute('sound', 'src', '#fear-sound-1');
            theFear.setAttribute('sound', 'autoplay', 'false');
            theFear.setAttribute('sound', 'loop', 'true');

            //set init model specs
            theFear.setAttribute('visible', 'false');
          //  theFear.setAttribute('scale', '1.5 1.5 1.5');
         //   theFear.setAttribute('gltf-model', '#fear-model-1');

            //AFTER AUGMENTED REALITY CAMERA FEED ACTIVE
          //do stuff when device camera feed becomes visible (don't want asset loading to slow startup)
          scene.addEventListener('realityready', () => {
            console.log("initial-events component -->  realityready");
            
            //set init position
            var angle = camera.getAttribute('rotation');
            var x = 1 * Math.cos(angle.y * Math.PI / 180);
            var y = 1 * Math.sin(angle.y * Math.PI / 180);
            var pos = camera.getAttribute('position');
            pos.x -= y* AFPS.gameState.fearDistance; 
            pos.z -= x* AFPS.gameState.fearDistance;
            pos.y = 0;
            theFear.setAttribute('position', pos);
            console.log("initial-events set pos:"); console.log(pos); 



            //turn off quiz jquery
            AFPS.gameState.quizActive = false;

            //start playing key sound effect
            theFear.components.sound.playSound();


       /*       //load future assets after reality loads
              const explodeAudioElement = document.createElement('audio');
              explodeAudioElement.setAttribute('id', 'explode-sound');
              explodeAudioElement.setAttribute('src', AFPS.gameState.explodeSoundSRC[0]);
              assets.appendChild(explodeAudioElement);

              const explodeGraphicElement1 = document.createElement('img');
              explodeGraphicElement1.setAttribute('id', 'explode-gif1');
              explodeGraphicElement1.setAttribute('src', AFPS.gameState.explodeImageSRC[0]); 
              assets.appendChild(explodeGraphicElement1); 

              //add sound & image to explode element
              explode.setAttribute('sound', 'src', '#explode-sound');
              explode.setAttribute('sound', 'autoplay', 'false');
              explode.setAttribute('sound', 'loop', 'true');
              explode.setAttribute('material', 'shader', 'gif'); 
              explode.setAttribute('material', 'alphaTest', '0.5');
              explode.setAttribute('material', 'src', '#explode-gif1');  */

              //enable game mode once everything is ready
              setTimeout(function(){ 
                AFPS.gameState.fearIsActive = true;
                console.log("AFPS.gameState.fearIsActive = true;");
              }, 3000);

              //DELAYED GENERATION AND LOADING OF FUTURE ASSETS
              //enable game mode once everything is ready
              setTimeout(function(){ 
           /*     const fearModel2Element = document.createElement('a-asset-item');
                fearModel2Element.setAttribute('id', 'fear-model-2');
                fearModel2Element.setAttribute('src', AFPS.gameState.fearModelSRC[1]);
                assets.appendChild(fearModel2Element); */

                const fearSound2Element = document.createElement('audio');
                fearSound2Element.setAttribute('id', 'fear-sound-2');
                fearSound2Element.setAttribute('src', AFPS.gameState.fearSoundSRC[1]);
                assets.appendChild(fearSound2Element);

        /*      const explodeGraphicElement2 = document.createElement('img');
              explodeGraphicElement2.setAttribute('id', 'explode-gif2');
              explodeGraphicElement2.setAttribute('src', AFPS.gameState.explodeImageSRC[1]); 
              assets.appendChild(explodeGraphicElement2); */
                
                console.log("Level 2 assets appended to loader");

                setTimeout(function(){ 
              /*    const fearModel3Element = document.createElement('a-asset-item');
                  fearModel3Element.setAttribute('id', 'fear-model-3');
                  fearModel3Element.setAttribute('src', AFPS.gameState.fearModelSRC[2]);
                  assets.appendChild(fearModel3Element); */

                  const fearSound3Element = document.createElement('audio');
                  fearSound3Element.setAttribute('id', 'fear-sound-3');
                  fearSound3Element.setAttribute('src', AFPS.gameState.fearSoundSRC[2]);
                  assets.appendChild(fearSound3Element);
                  
                  console.log("Level 3 assets appended to loader");
                }, 8000);
              }, 3000);
              

          })

        }
      })

  /*************************************************************
  ***************** PRIMARY GAME COMPONENT *********************
  *************************************************************/
      AFRAME.registerComponent('tap-animate-gamelogic', {
  /*    schema: {
        min: {default: 0.3},
        max: {default: 8}
      },  */
      init: function() {
        console.log("init tap-animate-gamelogic");

    //    this.initialScale = this.el.object3D.scale.clone()
    //    this.scaleFactor = 1
        this.handleEvent = this.handleEvent.bind(this);
    //    this.el.sceneEl.addEventListener('twofingermove', this.handleEvent)

        this.el.addEventListener('click', this.handleEvent);

        // Set up the tick throttling. Will check if marker is active every 250ms
        this.tick = AFRAME.utils.throttleTick(this.tick, 250, this);
      },
      tick: function() {
        //ticker stuff
        /**************** MEASURE PROXIMITY OF PLAYER TO FEAR ENTITY SO WE CAN DETERMINE IF THEY ARE IN RANGE **************/
        if( AFPS.gameState.fearIsActive == true ){

            let fearEntity = document.getElementById('fear-entity');
            let camera = document.getElementById('camera');
            let camPos = camera.object3D.position;
            let targetPos = fearEntity.object3D.position;
            let initialDistance = AFPS.gameState.initialDistance;// Number(fearEntity.getAttribute("initdistance"));
            let currentDistance = camPos.distanceTo(targetPos);
            let relativeDistance = currentDistance / initialDistance;

            //log every now and then, don't swamp console
       //     if((Math.random() * 10) < 2){  console.log("(currentdistance / initialdistance): " + currentDistance + " / " + initialDistance + " = " + relativeDistance ); }


            if(relativeDistance > AFPS.gameState.distanceCutOff ){

                if(AFPS.gameState.dialogue != 'closer'){
                  document.getElementById("game-message").innerHTML = "<H2>GET CLOSER!</H2>";
                  console.log("AFPS.gameState.fearInRange = false;");
                }
                AFPS.gameState.dialogue = 'closer';

                //flag disable pinch fear entity
                AFPS.gameState.fearInRange = false;
            } 
            else {

                if(AFPS.gameState.dialogue != 'pinch'){
                  document.getElementById("game-message").innerHTML = "<H2>PINCH YOUR FEAR AWAY!</H2>";
                  console.log("AFPS.gameState.fearInRange = true;");
                }
                AFPS.gameState.dialogue = 'pinch';

                //flag can now pinch fear entity
                AFPS.gameState.fearInRange = true;
            }

            //increase init distance value if current distance is greater ie init distance -> max distance
            if(currentDistance > initialDistance){
              AFPS.gameState.initialDistance = currentDistance;
            }
        }
      },
      remove: function() {
      //  this.el.sceneEl.removeEventListener('twofingermove', this.handleEvent)
        this.el.sceneEl.removeEventListener('click', this.handleEvent);
      },
      handleEvent: function(event) {

        console.log("raw click event");

        //only make small if user approaches fear entity + game is active
        if(AFPS.gameState.fearInRange == true && AFPS.gameState.fearIsActive == true){
          const fearEntity = document.getElementById('fear-entity');



          /*********** HANDLE USER DESTRUCTION ON FEAR ENTITY BY SUFFICIENT PINCHING *************/
          if(9999999999 < AFPS.gameState.scaleDestroyCuttOff){

            AFPS.gameState.fearIsActive = false;
            console.log("fear entity destroyed - AFPS.gameState.fearIsActive = false;");

            //increase score and set fear entitity as not active
            let newScore = AFPS.gameState.score + 1;
            console.log("new score: " + newScore);
            AFPS.gameState.score = newScore;

            //set explode graphic position to fear entity position
        /*    let thePosition = fearEntity.getAttribute('position');
            console.log("current position of fear element: "); 
            console.log(thePosition);
            explodeGraphic.setAttribute('position', thePosition);

            console.log("current position of explode element:");
            console.log( explodeGraphic.getAttribute('position') ); */

            //stop fear entity sound and play explode sound
            fearEntity.components.sound.stopSound();
        //    explodeGraphic.components.sound.playSound();

            //hide 'destroyed' fear graphic and show explosion graphic
            fearEntity.setAttribute('visible', false);
        //    explodeGraphic.setAttribute('visible', true);

            //update in game text messages
            document.getElementById("game-message").innerHTML = "<h2>SILLY FEAR!</h2>";
            document.getElementById("score-message").innerHTML = "<h2>SCORE: " + AFPS.gameState.score + "</h2>";


            //stop explosion graphics and hide everything after a few seconds
            setTimeout(()=> {
              //  explodeGraphic.setAttribute('visible', false);
              //  explodeGraphic.components.sound.stopSound();

                document.getElementById("game-message").innerHTML = "<H2>LOOK AROUND TO FACE MORE FEAR...</H2>";

                //SWITCH AUDIO AND VISUAL FOR LEVEL CHANGE
                switch (newScore - 1)
                {
                    case 0:
                    //    fearEntity.setAttribute('sound', 'src', '#fear-sound-2'); 
                    //    fearEntity.setAttribute('gltf-model', '#fear-model-2');

                        //load additional assets between levels
                        break;
                    case 1:
                    //    fearEntity.setAttribute('sound', 'src', '#fear-sound-3'); 
                    //    fearEntity.setAttribute('gltf-model', '#fear-model-3');

                        break;
                    case 2:
                      //do stuff
                        break;
                    case 3:
                      //do stuff
                        break;
                    case 4:
                      //do stuff
                        break;
                    case 5:
                      //do stuff
                        break;
                    case 6:
                      //do stuff
                        break;
                    case 7:
                      //do stuff
                        break;
                    case 8:
                      //do stuff
                        break;
                    case 9:
                      //do stuff
                        break;
                    default:
                      //do stuff
                    }

                //RESET FOR NEXT FEAR ENTITY
                setTimeout(()=> {
                    fearEntity.components.sound.playSound();

                    //make fear entity visible again
                    fearEntity.setAttribute('visible', true);

                    //get new initial distance of camera/player from fear entity
                    //need to wait for position to update
                    setTimeout(()=> {
                    /*    let camPos = camera.object3D.position;
                        let targetPos = fearEntity.object3D.position;
                        AFPS.gameState.initialDistance = camPos.distanceTo(targetPos);

                        console.log("recaclulated initial distance:" + AFPS.gameState.initialDistance); */

                        //allow user interaction with fear entity
                        AFPS.gameState.fearIsActive = true;
                    }, 500);

                }, 6000);

            }, 3000);

          }

        }
      }
    })
    </script>

</head>
<body class="no_padd">
    <header class="fixed"></header>
    <div class="mob_menu d-block">
       <a href="./index.html" class="mob_logo"><h4>Taction AR App</h4></a>
    </div>
    <!-- Content -->

    <!-- top of screen heart progress bar -->
    <div id="heart-bar"></div>

    <!-- in game text message display -->
    <div id="game-message"></div>
    <div id="score-message"></div>

    <!-- If your app only interacts with image targets and not the world, disabling world tracking can improve speed. -->
    <a-scene
    antialias="true"
    xrweb
    initial-events
    loading-screen
    gesture-detector
    xrextras-almost-there
    xrextras-loading
    xrextras-runtime-error
    photo-mode style="z-index: 0;">

    
        <a-assets id="assets">
            <a-asset-item id="fear-model-1" src="./assets/models/dog-lowpoly-pitbull-model.glb"></a-asset-item> 
            <a-asset-item id="hand-model" src="./assets/models/hand-model.glb"></a-asset-item> 
            <audio id="fear-sound-1" src="./assets/audio/dog-small-sound.mp3">
        </a-assets>

        <a-camera id="camera" position="0 8 8"></a-camera>

        <a-entity 
        light="type: ambient; intensity: 2;" 
        position="1 4.3 -18"></a-entity>

        <a-entity 
        id="fear-entity" 
        scale="0.2 0.2 0.2" 
        position="0 0 5"
        cursor-listener
        gltf-model="#fear-model-1"
        animation-mixer="clip: AggressiveBarking AggressiveAttack AggressiveAttack2; crossFadeDuration: 0.5"
        tap-animate-gamelogic></a-entity>

<!--
                <a-entity 
        id="fear-entity" 
        scale="0.2 0.2 0.2" 
        position="0 0 5"
        cursor-listener
        look-at="#camera"
        animation-mixer="clip: AggressiveAttack"
        tap-animate-gamelogic></a-entity>
    -->



        <a-entity 
        id="hand-entity" 
        scale="0.2 0.2 0.2" 
        position="0 0 5"
        gltf-model="#hand-model"
        animation-mixer="loop: pingpong"
        visible="true"
        hand-pet></a-entity>

      
        <a-entity
        id="ground"
        geometry="primitive: box"
        material="color: #ffffff; transparent: true; opacity: 0.0"
        scale="1000 2 1000"
        position="0 -1 0"></a-entity>

<!--
                <a-entity
        id="ground"
        class="cantap"
        geometry="primitive: box"
        material="color: #ffffff; transparent: true; opacity: 0.0"
        scale="1000 2 1000"
        position="0 -1 0"></a-entity>
    -->

    </a-scene>
<!--
    <section class="panel">
<div class="inner" style="width: 70%; position: fixed; margin-top: 180px; margin-left: -05px;">
                  <ul class="grid-icons three connected">
                                    <li><a href="arlens.html"><span class="icon"><img src="images/dog.svg" alt="" style="width: 70px !important;"/><span class="label">Dogs</span></span></a></li>

                                        <li><a href="arlens2.html"><span class="icon"><img src="images/wasp.svg" alt="" style="width: 70px !important;"/><span class="label">Bees</span></span></a></li>

                                        <li><a href="arlens3.html"><span class="icon"><img src="images/spider.svg" alt="" style="width: 70px !important;"/><span class="label">Spiders</span></span></a></li>

                                        <li><a href="arlens4.html"><span class="icon"><img src="images/lightning-bolt.svg" alt="" style="width: 70px !important;"/><span class="label">Lightning</span></span></a></li>

                                        <li><a href="arlens5.html"><span class="icon"><img src="images/injection.svg" alt="" style="width: 70px !important;"/><span class="label">Injection</span></span></a></li>

                                        <li><a href="arlens6.html"><span class="icon"><img src="images/clown.svg" alt="" style="width: 70px !important;"/><span class="label">Clowns</span></span></a></li>

                                        <li><a href="arlens6.html"><span class="icon"><img src="images/snake.svg" alt="" style="width: 70px !important;"/><span class="label">Snakes</span></span></a></li>

                                        <li><a href="arlens6.html"><span class="icon"><img src="images/jellyfish.svg" alt="" style="width: 70px !important;"/><span class="label">Jellyfish</span></span></a></li>
                  </ul>
                                </div>
                                </section>
                              -->
    <footer class="fixed d-none">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-4 col-12 text-center">
                    <div class="debug-text" style="display: none; color: white; font-size: 8px;">
                        <span id="debug-text-status-1">&nbps;</span>
                        <span id="debug-text-status-2">&nbps;</span>
                        <span id="debug-text-status-3">&nbps;</span>
                    </div>
                    <a href="index.html" class="logo full-width">Taction AR App</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="./assets/js/slick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>

    <!-- App Interfaces -->
    <script type="text/javascript" src="./assets/js/interfaces.js"></script>

</body>
</html>
