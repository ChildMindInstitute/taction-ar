<!doctype html>
<html lang="en">
<head>

  <!-- NOT: 10M MAX IS A GOOD SIZE FOR MODELS - too small!! -->
  <!-- dog-terrier-model resized to max 25meters -->
  <!-- wolf-running-model resized to max 20meters -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Taction AR App</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/slick-theme.css">
    <link rel="stylesheet" href="assets/css/style.css?v=201905161239">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,900" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

    <script>
    window.AFPS = {
      gameState: {
        quizActive: true,
        score: 0,
        type: 'dog',       //search, dog or bee - search is default
        fearIsActive: false,  //can player interact with/destroy the fear entity
        fearInRange: true,
        initialDistance: 0,
        fearDistance: 0,      //distance of player/camera from fear entity
        distanceCutOff: 0.75,
        scaleDestroyCuttOff: 0.5,
        dialogue: 'none',
        fearImageSRC: ["", "", "", "", ""],
        fearModelSRC: ["./assets/models/dog-beagle-model.glb", "./assets/models/dog-terrier-model.glb", "./assets/models/wolf-running-model.glb"],
        fearSoundSRC: ["./assets/audio/dog-small-sound.mp3", "./assets/audio/dog-growling-sound.mp3", "./assets/audio/dog-evil-sound.mp3"],
        explodeImageSRC: ["./assets/gif/explode1.gif", "./assets/gif/explode2.gif", "./assets/gif/explode3.gif", "./assets/gif/explode4.gif", "./assets/gif/explode5.gif", "./assets/gif/explode6.gif", "./assets/gif/explode7.gif"],
        explodeSoundSRC: ["./assets/audio/explosion_backdraft.mp3", "./assets/audio/explosion_backdraft.mp3", "./assets/audio/explosion_backdraft.mp3"]
      }
    };
    </script>

    <script src="./assets/json/silly-trivia.js" ></script>
    <script src="./assets/js/xrextras-climatelens.js" ></script>

    <script defer src="//cdn.8thwall.com/web/aframe/aframe-animation-component-5.1.2.min.js"></script>
 	<!--   <script src="//cdn.8thwall.com/web/aframe/8frame-0.9.0.min.js"></script> -->
 	<script src="//cdn.8thwall.com/web/aframe/8frame-0.8.2.min.js"></script>
 <!--   <script src="//codeawesome.s3-us-west-2.amazonaws.com/dulce303/assets/xrextras-climatelens.js" ></script> -->

    <script src="./assets/js/gesture-detector.js"></script>
    <script src="./assets/js/hold-drag.js"></script>
    <script src="./assets/js/pinch-scale.js"></script>
    <script src="./assets/js/two-finger-spin.js"></script>
    <script src="./assets/js/aframe-gif-component.min.js"></script>
    <script src="./assets/js/aframe-look-at-component-custom.js"></script>
    <!-- <script src="./assets/js/photomode.js"></script> -->

    <script src="//cdn.8thwall.com/web/aframe/aframe-extras-4.2.0.min.js"></script>
    <script
    src="//apps.8thwall.com/xrweb?appKey=gcGClZ7V2H4eITDKoOedf6lysRHTJg6JmhxUVEGSk5hu4EdnLkWdecrUfgBVATISaV5xg2"></script>

    <script src="./assets/js/dance.js?v=201905161239"></script>
    
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">

<!-- temp dev styling -->
    <style>
      #game-message, #score-message{
        position: fixed;
        display: block;
        width: 90%;
        left: 5%;
        z-index: 999;
      }
      #game-message h2, #score-message h2{
        color: white;
        text-align: center;
      }
      #game-message{
        top: 80%;
      }
      #score-message{
        top: 92%;
      }

      #quiz-container{
        display: block;
        position: relative;
        width: 84%;
        left: 8%;
        top: 50%;
      }
      #quiz-question{
        display: block;
        color: #4b739a;
        text-align: center;
      }
      #quiz-answer{
        display: none;
        color: #54ab80;
        text-align: center;
      }

      #loadImage{
        margin-left: -1.5em;
      }

        #bar-wrapper {
          /* display:none; */
          display: block;
          width: 61%;
          left: 20%;
          top: 10%;
          position: relative;
        }

        #bar-wrapper p {
          cursor: default;
          position: relative;
          /* top: calc(50% - 64px); */
          width: 100%;
          text-align: center;
         /* font-family: "Open Sans", Arial, sans-serif; */
          font-size: 18px;
        /*  text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);  */
          color: #3a3a3a;
        }

        #bar-wrapper .bar-container {
        /*  position: absolute; */
          /*left: calc(50vw - 4px - 290px / 2);*/
          margin-left: 4%;
          top: calc(50vh - 4px - 10px / 2);
          border-radius: 16px;
          border: 4px solid #3a3a3a;
          height: 16px;
          width: 89%;
          background-color: #eee;
          margin-bottom: 20px;
        }
        #bar-wrapper .bar-container .bar {
          background-color: #3a3a3a;
       /*   margin: -3px 0 0 3px;  */
       margin: -3px 0 3px;
         /* height: 4px; */
         height: 12px;
          width: 4px;
          border-radius: 4px;
        }

        @-webkit-keyframes load {
          0% {
            width: 4px;
          }
          100% {
            width: 284px;
          }
        }
    </style>

        <script>

            //progress bar script
                  //fade in loading progress bar elements
  /*      $( document ).ready(function() {
          $("#bar-wrapper").fadeIn(500);

          $( ".bar" ).delay(500).animate({
            width: "80%",
            }, 28000, "swing",
            function() {
                console.log("progress bar complete");
            });

          });
        });  */

	      // Component that places trees where the ground is clicked
	      AFRAME.registerComponent('tap-place', {
	        init: function() {
	          const ground = document.getElementById('ground')
	          ground.addEventListener('click', event => {
	            // Create new entity for the new object
	            const newElement = document.createElement('a-entity')
	            // The raycaster gives a location of the touch in the scene
	            const touchPoint = event.detail.intersection.point
	            newElement.setAttribute('position', touchPoint)
	            const randomYRotation = Math.random() * 360
	            newElement.setAttribute('rotation', '0 ' + randomYRotation + ' 0')
	            newElement.setAttribute('visible', 'false')
	            newElement.setAttribute('scale', '0.0001 0.0001 0.0001')
	            newElement.setAttribute('gltf-model', '#water-glb')
	            this.el.sceneEl.appendChild(newElement)
	            newElement.addEventListener('model-loaded', () => {
	              // Once the model is loaded, we are ready to show it popping in using an animation
	              newElement.setAttribute('visible', 'true')
	              newElement.setAttribute('animation', {
	                property: 'scale',
	                to: '0.01 0.01 0.01',
	                easing: 'easeOutElastic',
	                dur: 800,
	              })
	            })
	          })
	        }
	      })


	      //component for making loaded models a uniform size
	      AFRAME.registerComponent('resize', {
		  schema: {
		    axis: {
		      type: 'string',
		      default: 'x'
		    },
		    value: {
		      type: 'number',
		      default: 1
		    }
		  },
		  init: function() {
		    var el = this.el;
		    var data = this.data;
		    var model = el.object3D;
		    el.addEventListener('model-loaded', function(e) {
		      var box = new THREE.Box3().setFromObject( model );
		      var size = box.getSize();
		      var x = size.x;
		      var y = size.y;
		      var z = size.z;
		      if(data.axis === 'x') {
		        var scale = data.value / x;
		      }
		      else if(data.axis === 'y') {
		        var scale = data.value / y;
		      }
		      else {
		        var scale = data.value / z;
		      }
		      el.setAttribute('scale', scale + ' ' + scale + ' ' + scale);
		    });
		  }
		});

	/*************************************************************
	***************** PRIMARY LOAD COMPONENT *********************
	*************************************************************/
      AFRAME.registerComponent('initial-events', {
        init: function() {

        	const scene = this.el.sceneEl;
        	const camera = document.getElementById('camera'); 
        	const theFear = document.getElementById('fear-entity');
        	const assets = document.getElementById('assets');
        	const explode = document.getElementById('explode-graphic');

        	//IMMEDIATE ACTIONS

        	//do stuff after model is loaded
            theFear.addEventListener('model-loaded', () => {
            	theFear.setAttribute('visible', 'true');
            })

            //set init sound
            theFear.setAttribute('sound', 'src', '#fear-sound-1');
            theFear.setAttribute('sound', 'autoplay', 'false');
            theFear.setAttribute('sound', 'loop', 'true');

            //set init model specs
            theFear.setAttribute('visible', 'false');
            theFear.setAttribute('scale', '1.5 1.5 1.5');
            theFear.setAttribute('rotation', {x: 30, y: 0, z: 0});  //without rotation model looks like its above you
            theFear.setAttribute('gltf-model', '#fear-model-1');
            theFear.setAttribute('animation-mixer', 'loop', 'repeat');

            //AFTER AUGMENTED REALITY CAMERA FEED ACTIVE
        	//do stuff when device camera feed becomes visible (don't want asset loading to slow startup)
	        scene.addEventListener('realityready', () => {
            console.log("initial-events component -->  realityready");
	        	//stuff

	        	//turn off quiz jquery
	        	AFPS.gameState.quizActive = false;

	        	//start playing key sound effect
	        	theFear.components.sound.playSound();

	        	//set init position
		        var angle = camera.getAttribute('rotation');
	            var x = 1 * Math.cos(angle.y * Math.PI / 180);
	            var y = 1 * Math.sin(angle.y * Math.PI / 180);
	            var pos = camera.getAttribute('position');
	            pos.x -= y*8;
	            pos.z -= x*8;
	            pos.y = 0;
	            theFear.setAttribute('position', pos);

              	console.log("initial-events set pos:"); console.log(pos);

	            //set init animation
	    /*        theFear.setAttribute('animation', {
	                property: 'position',
	                from: {x: pos.x, y: 0, z: pos.z},
	                to:  {x: pos.x + 3, y: 0, z: pos.z + 3},
	                easing: 'easeInOutQuad',
	                elasticity: 0,
	                loop: 'true',
	                dur: 2000,
	                dir: 'alternate',
	                enabled: 'true',
	            });   */

	            //load future assets after reality loads
	            const explodeAudioElement = document.createElement('audio');
	            explodeAudioElement.setAttribute('id', 'explode-sound');
	            explodeAudioElement.setAttribute('src', AFPS.gameState.explodeSoundSRC[0]);
	            assets.appendChild(explodeAudioElement);

	            const explodeGraphicElement1 = document.createElement('img');
	            explodeGraphicElement1.setAttribute('id', 'explode-gif1');
	            explodeGraphicElement1.setAttribute('src', AFPS.gameState.explodeImageSRC[0]); 
	            assets.appendChild(explodeGraphicElement1);

	            //add sound & image to explode element
	            explode.setAttribute('sound', 'src', '#explode-sound');
	            explode.setAttribute('sound', 'autoplay', 'false');
	            explode.setAttribute('sound', 'loop', 'true');
	            explode.setAttribute('material', 'shader', 'gif'); 
	            explode.setAttribute('material', 'alphaTest', '0.5');
	            explode.setAttribute('material', 'src', '#explode-gif1');

              //enable game mode once everything is ready
              setTimeout(function(){ 
                AFPS.gameState.fearIsActive = true;
                console.log("AFPS.gameState.fearIsActive = true;");
              }, 500);

              //DELAYED GENERATION AND LOADING OF FUTURE ASSETS
              //enable game mode once everything is ready
              setTimeout(function(){ 
              	const fearModel2Element = document.createElement('a-asset-item');
              	fearModel2Element.setAttribute('id', 'fear-model-2');
              	fearModel2Element.setAttribute('src', AFPS.gameState.fearModelSRC[1]);
              	assets.appendChild(fearModel2Element);

              	const fearSound2Element = document.createElement('audio');
              	fearSound2Element.setAttribute('id', 'fear-sound-2');
              	fearSound2Element.setAttribute('src', AFPS.gameState.fearSoundSRC[1]);
              	assets.appendChild(fearSound2Element);

	            const explodeGraphicElement2 = document.createElement('img');
	            explodeGraphicElement2.setAttribute('id', 'explode-gif2');
	            explodeGraphicElement2.setAttribute('src', AFPS.gameState.explodeImageSRC[1]); 
	            assets.appendChild(explodeGraphicElement2);
                
                console.log("Level 2 assets appended to loader");

                setTimeout(function(){ 
                	const fearModel3Element = document.createElement('a-asset-item');
	              	fearModel3Element.setAttribute('id', 'fear-model-3');
	              	fearModel3Element.setAttribute('src', AFPS.gameState.fearModelSRC[2]);
	              	assets.appendChild(fearModel3Element);

	              	const fearSound3Element = document.createElement('audio');
	              	fearSound3Element.setAttribute('id', 'fear-sound-3');
	              	fearSound3Element.setAttribute('src', AFPS.gameState.fearSoundSRC[2]);
	              	assets.appendChild(fearSound3Element);
	                
	                console.log("Level 3 assets appended to loader");
                }, 6000);
              }, 2500);
              

	        })

        }
      })

	/*************************************************************
	***************** PRIMARY GAME COMPONENT *********************
	*************************************************************/
      AFRAME.registerComponent('pinch-scale-destroy', {
	    schema: {
	      min: {default: 0.3},
	      max: {default: 8}
	    },
	    init: function() {
	      console.log("init pinch-scale-destroy");

	      this.initialScale = this.el.object3D.scale.clone()
	      this.scaleFactor = 1
	      this.handleEvent = this.handleEvent.bind(this)
	      this.el.sceneEl.addEventListener('twofingermove', this.handleEvent)

        // Set up the tick throttling. Will check if marker is active every 250ms
        this.tick = AFRAME.utils.throttleTick(this.tick, 250, this);
      },
      tick: function() {
        //ticker stuff
        /**************** MEASURE PROXIMITY OF PLAYER TO FEAR ENTITY SO WE CAN DETERMINE IF THEY ARE IN RANGE **************/
        if( AFPS.gameState.fearIsActive == true ){

            let fearEntity = document.getElementById('fear-entity');
            let camera = document.getElementById('camera');
            let camPos = camera.object3D.position;
            let targetPos = fearEntity.object3D.position;
            let initialDistance = AFPS.gameState.initialDistance;// Number(fearEntity.getAttribute("initdistance"));
            let currentDistance = camPos.distanceTo(targetPos);
            let relativeDistance = currentDistance / initialDistance;

            //log every now and then, don't swamp console
          	if((Math.random() * 10) < 2){  console.log("(currentdistance / initialdistance): " + currentDistance + " / " + initialDistance + " = " + relativeDistance ); }


            if(relativeDistance > AFPS.gameState.distanceCutOff ){

	              if(AFPS.gameState.dialogue != 'closer'){
	                document.getElementById("game-message").innerHTML = "<H2>GET CLOSER!</H2>";
	                console.log("AFPS.gameState.fearInRange = false;");
	              }
	              AFPS.gameState.dialogue = 'closer';

	              //flag disable pinch fear entity
	              AFPS.gameState.fearInRange = false;
            } 
            else {

	              if(AFPS.gameState.dialogue != 'pinch'){
	                document.getElementById("game-message").innerHTML = "<H2>PINCH YOUR FEAR AWAY!</H2>";
	                console.log("AFPS.gameState.fearInRange = true;");
	              }
	              AFPS.gameState.dialogue = 'pinch';

	              //flag can now pinch fear entity
	              AFPS.gameState.fearInRange = true;
            }

            //increase init distance value if current distance is greater ie init distance -> max distance
            if(currentDistance > initialDistance){
              AFPS.gameState.initialDistance = currentDistance;
            }
        }
	    },
	    remove: function() {
	      this.el.sceneEl.removeEventListener('twofingermove', this.handleEvent)
	    },
	    handleEvent: function(event) {

        console.log("raw pinch event");

        //only make small if user approaches fear entity + game is active
        if(AFPS.gameState.fearInRange == true && AFPS.gameState.fearIsActive == true){
          const fearEntity = document.getElementById('fear-entity');
          const explodeGraphic = document.getElementById('explode-graphic');

          console.log("pinching fear in pinch event");

  	      this.scaleFactor *= 1 + event.detail.spreadChange / event.detail.startSpread
  	      this.scaleFactor = Math.min(Math.max(this.scaleFactor, this.data.min), this.data.max)
  	  
  	      this.el.object3D.scale.x = this.scaleFactor * this.initialScale.x
  	      this.el.object3D.scale.y = this.scaleFactor * this.initialScale.y
  	      this.el.object3D.scale.z = this.scaleFactor * this.initialScale.z

          /*********** HANDLE USER DESTRUCTION ON FEAR ENTITY BY SUFFICIENT PINCHING *************/
          if(this.scaleFactor < AFPS.gameState.scaleDestroyCuttOff){

            AFPS.gameState.fearIsActive = false;
            console.log("fear entity destroyed - AFPS.gameState.fearIsActive = false;");

            //increase score and set fear entitity as not active
            let newScore = AFPS.gameState.score + 1;
            console.log("new score: " + newScore);
            AFPS.gameState.score = newScore;

            //set explode graphic position to fear entity position
     /*       let thePosition = fearEntity.object3D.position; //getAttribute('position');
            console.log("current position of fear element: "); 
            console.log(thePosition);
            explodeGraphic.setAttribute('position', thePosition); */

            explodeGraphic.object3D.position = fearEntity.object3D.position;

            console.log("current position of explode element:");
            console.log( explodeGraphic.object3D.position ); //explodeGraphic.getAttribute('position') );

            //stop fear entity sound and play explode sound
            fearEntity.components.sound.stopSound();
            explodeGraphic.components.sound.playSound();

            //hide 'destroyed' fear graphic and show explosion graphic
            fearEntity.setAttribute('visible', false);
            explodeGraphic.setAttribute('visible', true);

            //update in game text messages
            document.getElementById("game-message").innerHTML = "<h2>SILLY FEAR!</h2>";
            document.getElementById("score-message").innerHTML = "<h2>SCORE: " + AFPS.gameState.score + "</h2>";


            //stop explosion graphics and hide everything after a few seconds
            setTimeout(()=> {
                explodeGraphic.setAttribute('visible', false);
                explodeGraphic.components.sound.stopSound();

                document.getElementById("game-message").innerHTML = "<H2>LOOK AROUND TO FACE MORE FEAR...</H2>";

                //SWITCH AUDIO AND VISUAL FOR LEVEL CHANGE
                switch (newScore - 1)
			    {
			        case 0:
			            fearEntity.setAttribute('sound', 'src', '#fear-sound-2'); 
            			fearEntity.setAttribute('gltf-model', '#fear-model-2');
            			explodeGraphic.setAttribute('material', 'src', '#explode-gif2');

            			//load additional assets between levels
            			const explodeGraphicElement3 = document.createElement('img');
	            		explodeGraphicElement3.setAttribute('id', 'explode-gif3');
	            		explodeGraphicElement3.setAttribute('src', AFPS.gameState.explodeImageSRC[2]); 
	            		assets.appendChild(explodeGraphicElement3);
			            break;
			        case 1:
			            fearEntity.setAttribute('sound', 'src', '#fear-sound-3'); 
            			fearEntity.setAttribute('gltf-model', '#fear-model-3');
            			explodeGraphic.setAttribute('material', 'src', '#explode-gif3');

            			//load additional assets between levels
            			const explodeGraphicElement4 = document.createElement('img');
	            		explodeGraphicElement4.setAttribute('id', 'explode-gif4');
	            		explodeGraphicElement4.setAttribute('src', AFPS.gameState.explodeImageSRC[3]); 
	            		assets.appendChild(explodeGraphicElement4);

	            		//add animation
	            /*		fearEntity.setAttribute('animation', {
			                property: 'position',
			                from: {x: pos.x, y: 0, z: pos.z},
			                to:  {x: pos.x + 3, y: 0, z: pos.z + 3},
			                easing: 'easeInOutQuad',
			                elasticity: 0,
			                loop: 'true',
			                dur: 2000,
			                dir: 'alternate',
			                enabled: 'true',
			            }); */
			            break;
			        case 2:
			        	fearEntity.setAttribute('sound', 'src', '#fear-sound-1'); 
            			fearEntity.setAttribute('gltf-model', '#fear-model-1');
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif4');

			        	//load additional assets between levels
			            const explodeGraphicElement5 = document.createElement('img');
	            		explodeGraphicElement5.setAttribute('id', 'explode-gif5');
	            		explodeGraphicElement5.setAttribute('src', AFPS.gameState.explodeImageSRC[4]); 
	            		assets.appendChild(explodeGraphicElement5);
			            break;
			        case 3:
			        	fearEntity.setAttribute('sound', 'src', '#fear-sound-2'); 
            			fearEntity.setAttribute('gltf-model', '#fear-model-2');
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif5');
			            //something here
			            break;
			        case 4:
			        	fearEntity.setAttribute('sound', 'src', '#fear-sound-3'); 
            			fearEntity.setAttribute('gltf-model', '#fear-model-3');
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif1');
			            //something here
			            break;
			        case 5:
			        	fearEntity.setAttribute('sound', 'src', '#fear-sound-1'); 
            			fearEntity.setAttribute('gltf-model', '#fear-model-1');
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif2');
			            //something here
			            break;
			        case 6:
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif3');
			            //something here
			            break;
			        case 7:
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif4');
			            //something here
			            break;
			        case 8:
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif5');
			            //something here
			            break;
			        case 9:
			        	explodeGraphic.setAttribute('material', 'src', '#explode-gif1');
			            //something here
			            break;
			        default:
			        	fearEntity.setAttribute('sound', 'src', '#fear-sound-1'); 
            			fearEntity.setAttribute('gltf-model', '#fear-model-1');
			        }

                //RESET FOR NEXT FEAR ENTITY
                setTimeout(()=> {
                    fearEntity.components.sound.playSound();

                    //set new position
              /*      const camera = document.getElementById('camera'); 

                    const angle = camera.getAttribute("rotation");
                    var x = 1 * Math.cos(angle.y * Math.PI / 180);
                    var y = 1 * Math.sin(angle.y * Math.PI / 180);
                    var pos = camera.getAttribute("position");
                    pos.x -= y*15;
                    pos.z -= x*15;
                    pos.y = 0;
                    this.el.setAttribute("position", pos); */

                    //set movement animation
                /*    this.el.setAttribute('animation', {
                        property: 'position',
                        from: {x: pos.x, y: 0, z: pos.z},
                        to:  {x: pos.x + 5, y: 0, z: pos.z + 1},
                        easing: 'easeInOutQuad',
                        elasticity: 400,
                        dur: 1000,
                        loop: 'true',
                    }) 

                    console.log("change position: ");
                    console.log(pos); */

                    //reset scale
                    this.scaleFactor = 1;

                    //make fear entity visible again
                    fearEntity.setAttribute('visible', true);

                    //get new initial distance of camera/player from fear entity
                    //need to wait for position to update
                    setTimeout(()=> {
                        let camPos = camera.object3D.position;
                        let targetPos = fearEntity.object3D.position;
                        AFPS.gameState.initialDistance = camPos.distanceTo(targetPos);

                        console.log("recaclulated initial distance:" + AFPS.gameState.initialDistance);

                        //allow user interaction with fear entity
                        AFPS.gameState.fearIsActive = true;
                    }, 500);

                }, 6000);

            }, 3000);

          }

        }
	    }
	  })
    </script>

</head>
<body class="no_padd">
    <header class="fixed"></header>
    <div class="mob_menu d-block">
       <a href="./index.html" class="mob_logo"><h4>Taction AR App</h4></a>
    </div>
    <!-- Content -->

    <!-- in game text message display -->
    <div id="game-message"></div>
    <div id="score-message"></div>

    <!-- If your app only interacts with image targets and not the world, disabling world tracking can improve speed. -->
    <a-scene
    antialias="true"
    xrweb
    initial-events
    loading-screen
    tap-place
    gesture-detector
    xrextras-almost-there
    xrextras-loading
    xrextras-runtime-error
    photo-mode style="z-index: 0;">
    
      	<a-assets id="assets">
      		<!--  <a-asset-item id="water-glb" src="./assets/models/water-rise-trans5.glb"></a-asset-item> --> 
        <!--	<a-asset-item id="fear-model-1" src="./assets/models/low_poly_dog_model.glb"></a-asset-item> -->
            <a-asset-item id="fear-model-1" src="./assets/models/dog-beagle-model.glb"></a-asset-item> 
        	<audio id="fear-sound-1" src="./assets/audio/dog-small-sound.mp3">

      	</a-assets>

      	<a-camera id="camera" position="0 8 8"></a-camera>

        <a-entity 
        light="type: ambient; intensity: 2;" 
        position="1 4.3 -18"></a-entity>

        <a-entity 
        id="fear-entity" 
        class="cantap" 
        scale="2 2 2" 
        look-at="#camera"
        resize="axis:x; value:3.0"
        hold-drag 
        pinch-scale-destroy></a-entity>

        <a-entity 
        id="explode-graphic" 
        geometry="primitive:plane;width:12;height:12;" 
        visible="false" 
        look-at="#camera"></a-entity>
      
        <a-entity
        id="ground"
        class="cantap"
        geometry="primitive: box"
        material="color: #ffffff; transparent: true; opacity: 0.0"
        scale="1000 2 1000"
        position="0 -1 0"></a-entity>

    </a-scene>
<!--
    <section class="panel">
<div class="inner" style="width: 70%; position: fixed; margin-top: 180px; margin-left: -05px;">
									<ul class="grid-icons three connected">
                                    <li><a href="arlens.html"><span class="icon"><img src="images/dog.svg" alt="" style="width: 70px !important;"/><span class="label">Dogs</span></span></a></li>

                                        <li><a href="arlens2.html"><span class="icon"><img src="images/wasp.svg" alt="" style="width: 70px !important;"/><span class="label">Bees</span></span></a></li>

                                        <li><a href="arlens3.html"><span class="icon"><img src="images/spider.svg" alt="" style="width: 70px !important;"/><span class="label">Spiders</span></span></a></li>

                                        <li><a href="arlens4.html"><span class="icon"><img src="images/lightning-bolt.svg" alt="" style="width: 70px !important;"/><span class="label">Lightning</span></span></a></li>

                                        <li><a href="arlens5.html"><span class="icon"><img src="images/injection.svg" alt="" style="width: 70px !important;"/><span class="label">Injection</span></span></a></li>

                                        <li><a href="arlens6.html"><span class="icon"><img src="images/clown.svg" alt="" style="width: 70px !important;"/><span class="label">Clowns</span></span></a></li>

                                        <li><a href="arlens6.html"><span class="icon"><img src="images/snake.svg" alt="" style="width: 70px !important;"/><span class="label">Snakes</span></span></a></li>

                                        <li><a href="arlens6.html"><span class="icon"><img src="images/jellyfish.svg" alt="" style="width: 70px !important;"/><span class="label">Jellyfish</span></span></a></li>
									</ul>
                                </div>
                                </section>
                              -->
    <footer class="fixed d-none">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-4 col-12 text-center">
                    <div class="debug-text" style="display: none; color: white; font-size: 8px;">
                        <span id="debug-text-status-1">&nbps;</span>
                        <span id="debug-text-status-2">&nbps;</span>
                        <span id="debug-text-status-3">&nbps;</span>
                    </div>
                    <a href="index.html" class="logo full-width">Taction AR App</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="./assets/js/slick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>

    <!-- App Interfaces -->
    <script type="text/javascript" src="./assets/js/interfaces.js"></script>

</body>
</html>
